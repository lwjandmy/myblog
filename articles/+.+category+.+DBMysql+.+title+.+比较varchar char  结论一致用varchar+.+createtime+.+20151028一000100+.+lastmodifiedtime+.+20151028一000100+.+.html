

<html><head><meta charset="UTF-8"><title>比较varchar char  结论一致用varchar
</title><meta name="viewport" content="width=device-width, initial-scala=1.0"></head><body><div id="markdown">






<h1 id="-varchar-char-varchar">比较varchar char  结论一致用varchar</h1>
<pre><code class="lang-text">char
cpu方面: 添加和读取时,都要处理数据末尾的空格,若空格多,则处理空格的时间也越长.所以对不定长的数据效果不理想
io方面: 由于数据定长, 索引时间是O(1)
优点: 更新快
缺点: 不定长数据操作慢 数据文件大


varchar
cpu方面: 添加和读取时,都要处理数据开头的长度字段,但处理时间是固定的极少的
io方面: 由于数据不定长, 索引时间大于O(1),但可通过建立索引来弥补; 修改数据时,会导致记录整体拷贝
优点: 不定长数据操作快 数据文件小
缺点: 更新慢

总结: 一直以为char的快速索引是长项,
但有了建立索引的功能后,varchar也可以快速索引.
char唯一剩的优势是修改数据的速度.
但varchar在修改数据时,记录空间不足时,记录被整体复制到表的尾部,
但只要整条记录不是太占空间(可通过分成多个表,使记录占空间缩小),
这点拷贝相比磁盘空间的节省,是可以忽略的.

所以用varchar代替char.
</code></pre>


</div>
<script src="../js/jquery-1.12.3.min.js" charset="utf-8"></script>
<link rel="stylesheet" href="../css/highlight.min.css">
<script src="../js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
jQuery(function ($) {
});
</script></body></html>

