

<html><head><meta charset="UTF-8"><title>affix scrollSpy 实现导航不被滚动出页面 导航响应当前section
</title><meta name="viewport" content="width=device-width, initial-scala=1.0"></head><body><div id="markdown">






<h1 id="affix-scrollspy-section">affix scrollSpy 实现导航不被滚动出页面 导航响应当前section</h1>
<h2 id="affix-scrollspy-section">affix scrollSpy小例子 实现实现导航不被滚动出页面 导航响应当前section</h2>
<p><a href="http://9iphp.com/web/javascript/understanding-bootstraps-affix-scrollspy-plugins.html">Bootstrap的Affix与ScrollSpy用法一</a></p>
<p><a href="http://9iphp.com/web/javascript/understanding-bootstraps-affix-scrollspy-plugins-2.html">Bootstrap的Affix与ScrollSpy用法二</a></p>
<pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;

    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;link rel=&#39;stylesheet&#39; href=&#39;http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css&#39;&gt;

    &lt;style&gt;
        .affix-top {
            background: #17EAA6;
            width: 200px;
        }
        .affix {
            background: #EA7817;
            width: 200px;
        }
        body {
            position: relative;
        }
        .active {
            background: red;
        }
    &lt;/style&gt;

&lt;/head&gt;

&lt;!-- 2. scrollSpy插件: 需配合nav导航组件使用, 当页面滚动时, 通知一个li元素, 以class=active的形式通知, 使li能改变样式(如高亮) --&gt;
&lt;!-- 2. data-spy=&quot;scroll&quot;指定当页面滚动时监听body元素, 建议设置监听元素body的position属性为relative --&gt;
&lt;!-- 2. 给监听元素添加data-target属性, 属性值必须指向nav组件的父级元素 --&gt;
&lt;body data-spy=&quot;scroll&quot; data-target=&quot;.scrollspy&quot;&gt;

    &lt;!-- 0. 左侧导航 --&gt;
    &lt;!-- 4. 用scrollspy标记nav组件的父级元素 --&gt;
    &lt;div class=&quot;col-md-3 scrollspy&quot;&gt;
        &lt;!-- 1. affix插件: 当页面滚动时, 通过通知一个元素如ul, 以class的形式通知, 使ul能固定到窗口中, 不被滚动出窗口 --&gt;
        &lt;!-- 1. 指定ul元素接受affix通知: 最顶端位置, class=affix-top; 非顶底位置, class=affix, 自动增加fixed属性; 最底端位置, class=affix-bottom --&gt;
        &lt;!-- 3. 使用nav组件 --&gt;
        &lt;ul data-spy=&quot;affix&quot; class=&quot;nav&quot;&gt;
            &lt;li&gt;&lt;a href=&quot;#section1&quot;&gt;section1&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;#section2&quot;&gt;section2&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;#section3&quot;&gt;section3&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;

    &lt;!-- 0. 右侧内容 --&gt;
    &lt;div class=&quot;col-md-9&quot;&gt;
        &lt;section id=&quot;section1&quot;&gt;&lt;h1&gt;section1&lt;/h1&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;&lt;/section&gt;
        &lt;section id=&quot;section2&quot;&gt;&lt;h1&gt;section2&lt;/h1&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;&lt;/section&gt;
        &lt;section id=&quot;section3&quot;&gt;&lt;h1&gt;section3&lt;/h1&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;&lt;/section&gt;
    &lt;/div&gt;

    &lt;script src=&#39;http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js&#39;&gt;&lt;/script&gt;
    &lt;script src=&#39;http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js&#39;&gt;&lt;/script&gt;
    &lt;script&gt;
    $(&quot;[data-spy=affix]&quot;).affix({
        offset: {
            top: 0, // 1. 设置距顶部的距离, 只有设置了, class才会有affix-top状态
        }
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<hr>
<h2 id="-">实现多级导航的小例子</h2>
<pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;

    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;link rel=&#39;stylesheet&#39; href=&#39;http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css&#39;&gt;

    &lt;style&gt;
        .affix-top {
            background: #17EAA6;
            width: 200px;
        }
        .affix {
            background: #EA7817;
            width: 200px;
        }
        body {
            position: relative;
        }
        .active {
            background: red;
        }
        .active .active {
            background: blue;
        }
        .nav .active .nav {
            display: block;
        }
        .nav .nav {
            display: none;
        }
    &lt;/style&gt;

&lt;/head&gt;

&lt;body data-spy=&quot;scroll&quot; data-target=&quot;.scrollspy&quot;&gt;

    &lt;div class=&quot;col-md-3 scrollspy&quot;&gt;
        &lt;ul data-spy=&quot;affix&quot; class=&quot;nav&quot;&gt;
            &lt;li&gt;&lt;a href=&quot;#section1&quot;&gt;section1&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;#section2&quot;&gt;section2&lt;/a&gt;
                &lt;ul class=&quot;nav&quot;&gt;
                    &lt;li&gt;&lt;a href=&quot;#section2_1&quot;&gt;section2_1&lt;/a&gt;&lt;/li&gt;
                    &lt;li&gt;&lt;a href=&quot;#section2_2&quot;&gt;section2_2&lt;/a&gt;&lt;/li&gt;
                    &lt;li&gt;&lt;a href=&quot;#section2_3&quot;&gt;section2_3&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;#section3&quot;&gt;section3&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;

    &lt;div class=&quot;col-md-9&quot;&gt;
        &lt;section id=&quot;section1&quot;&gt;&lt;h1&gt;section1&lt;/h1&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;1&lt;br&gt;&lt;/section&gt;
        &lt;section id=&quot;section2&quot;&gt;&lt;h1&gt;section2&lt;/h1&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;2&lt;br&gt;&lt;/section&gt;
        &lt;section id=&quot;section2_1&quot;&gt;&lt;h1&gt;section2&lt;/h1&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;21&lt;br&gt;&lt;/section&gt;
        &lt;section id=&quot;section2_2&quot;&gt;&lt;h1&gt;section2&lt;/h1&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;22&lt;br&gt;&lt;/section&gt;
        &lt;section id=&quot;section2_3&quot;&gt;&lt;h1&gt;section2&lt;/h1&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;23&lt;br&gt;&lt;/section&gt;
        &lt;section id=&quot;section3&quot;&gt;&lt;h1&gt;section3&lt;/h1&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;3&lt;br&gt;&lt;/section&gt;
    &lt;/div&gt;

    &lt;script src=&#39;http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js&#39;&gt;&lt;/script&gt;
    &lt;script src=&#39;http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js&#39;&gt;&lt;/script&gt;
    &lt;script&gt;
    $(&quot;[data-spy=affix]&quot;).affix({
        offset: {
            top: 0,
        }
    });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>


</div>
<script src="../js/jquery-1.12.3.min.js" charset="utf-8"></script>
<link rel="stylesheet" href="../css/highlight.min.css">
<script src="../js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
jQuery(function ($) {
});
</script></body></html>

