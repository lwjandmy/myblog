

<html><head><meta charset="UTF-8"><title>matlab总结
</title><meta name="viewport" content="width=device-width, initial-scala=1.0"></head><body><div id="markdown">






<h1 id="matlab-">matlab总结</h1>
<h3 id="-">矩阵表示</h3>
<pre><code class="lang-text">矩阵表示方式: [x,x;x,x]
另起一行, 行尾加...
</code></pre>
<h3 id="-">矩阵编辑器</h3>
<pre><code class="lang-text">矩阵编辑器可以编辑大数据矩阵
</code></pre>
<h3 id="-">生成矩阵函数</h3>
<pre><code class="lang-matlab">eye(3, 4)(&#39;i&#39;读音), 生成单位矩阵
rand(3, 4), 生成随机矩阵
diag(3, 4), 生成对角矩阵
</code></pre>
<h3 id="-">保存矩阵到文件</h3>
<pre><code class="lang-matlab">save 文件名 变量名 可以把变量保存成文件
load 文件名 可以加载保存过的文件
delete 文件名.mat 删除之前保存的文件
</code></pre>
<h3 id="-">生成矩阵函数</h3>
<pre><code class="lang-matlab">linspace(0, 1, 5) 产生等差数列, 从0到1, 共5个数
logspace(0, 4, 5) 产生等比数列, 从10^0到10^4, 共5个数
</code></pre>
<h3 id="-">访问矩阵元素</h3>
<pre><code class="lang-matlab">A(3, 2) = 10 改变第二行第三列数值(下标从1开始), 也可以用来扩充内存
A(1, ;) 获取矩阵第一行所有数
A(2 : 4, [1, 3, 4]) 获取矩阵第二到第四行,第一三四列的数
</code></pre>
<h3 id="-">筛选矩阵元素</h3>
<pre><code class="lang-matlab">L=A(2, :) &lt; 0.5 获取bool矩阵, 标识了A矩阵第二行数是否小于0.5
A(2, L) 仅获取A矩阵第二行的数, 并且数被L指定(L中数为1)
</code></pre>
<h3 id="-">组合矩阵</h3>
<pre><code class="lang-matlab">B=[rand(2),ones(2); eye(2, 4)] B由随即矩阵, 1矩阵和单位矩阵拼接而成
</code></pre>
<h3 id="-">生成矩阵函数</h3>
<pre><code class="lang-matlab">magic(4) 建立魔方矩阵
pascal(4) 建立帕斯卡矩阵
</code></pre>
<h3 id="-">矩阵加点运算</h3>
<pre><code class="lang-matlab">运算符前加&#39;点&#39;, 表示数组运算, 即对应的数做运算
</code></pre>
<h3 id="-">解线性方程</h3>
<pre><code class="lang-matlab">inv(A) 求逆矩阵, pinv(A) 求伪逆矩阵,A不必是方阵
A\B, A左除B A/B, A右除B
对于求解Ax=B, 一种方法是x=inv(A)*B; 另一种方法是左除x=A\B.
后者速度要快于前者. 因为求逆和左除都使用高斯消去法, 但前者还执行了乘法.
</code></pre>
<h3 id="-">矩阵的乘方运算</h3>
<pre><code class="lang-matlab">A^3, 矩阵A自乘3次
A^(-3), 矩阵A^(-1)自乘3次
A^0, 得到与A同维的单位矩阵
A^(p/q), 令A=W*B*W^(-1), B为对角阵, 得到W*B^(p/q)*W^(-1)
</code></pre>
<h3 id="-">标量的矩阵乘方</h3>
<pre><code class="lang-matlab">p^A, 求标量p的矩阵乘方
</code></pre>
<h3 id="-">一些矩阵函数</h3>
<pre><code class="lang-matlab">rand(4);生成随机矩阵
det(A);求矩阵行列式值
trace(A);求矩阵迹
rank(A);求方阵的秩
norm(A,&#39;inf&#39;);求方阵无穷大范数
norm(A,&#39;fro&#39;);求方阵F范数
和其它函数区别:
数组型函数(标量函数和向量函数)是对矩阵每个元素计算
矩阵函数先进行矩阵特征值分解,然后计算
</code></pre>
<h3 id="-">矩阵分解</h3>
<pre><code class="lang-matlab">[l,u] = lu(A) 对矩阵进行分解,
l为下三角矩阵基本变换形式,u为上三角矩阵
</code></pre>
<h3 id="-">矩阵的奇异值分解</h3>
<pre><code class="lang-matlab">[a,b,c]=svd(A)
[e,f,g]=svd(A,0)矩阵的奇异值分解
A的行数大于列数
b是矩阵A中n个奇异值所构成的列向量
a,b,c是奇异值分解的结果
d,e,f是以简单形式给出的奇异值分解结果
</code></pre>
<h3 id="-">求多项式的根</h3>
<pre><code class="lang-matlab">输入多项式:
f(x)=a*x^3 + b*x^2 + c*x^1 + d*x^0
p=[a,b,c,d]
解多项式:
x=roots(p) 把多项式转化为伴随矩阵,求特征值
</code></pre>
<h3 id="-">求根对应的多项式系数</h3>
<pre><code class="lang-matlab">p=[x1,x2,x3,x4]
x=roots(p)
pp=poly(x)
</code></pre>
<h3 id="-m-">定义函数到m文件</h3>
<pre><code class="lang-matlab">新建m-file
输入:
function y=demax(x);%定义函数demax(x)
y=a*x^3+......
保存m-file
</code></pre>
<h3 id="-">求解函数零点</h3>
<pre><code class="lang-matlab">a=fzero(&#39;demax&#39;,[-10,10]) 二分法逼近demax(x)=0
</code></pre>
<h3 id="-">求函数局部最小值</h3>
<pre><code class="lang-matlab">假设存在m-file:ken.m
a=fmin(&#39;ken&#39;,-2,0.5) 求函数ken在开区间(-2,0.5)的最小值
</code></pre>
<h3 id="-">多项式相加</h3>
<pre><code class="lang-matlab">直接对应系数矩阵相加
</code></pre>
<h3 id="-">多项式相乘</h3>
<pre><code class="lang-matlab">c=conv(c1,c2)
</code></pre>
<h3 id="-">多项式相除</h3>
<pre><code class="lang-matlab">[a,b]=deconv(p1,p2) 商a余b
</code></pre>
<h3 id="-">多项式求导</h3>
<pre><code class="lang-matlab">d=polyder(p)
[a,b]=polyder(p1,p2)对分式求导,a为导数分子,b为分母
</code></pre>
<h3 id="-">多项式值的计算</h3>
<pre><code class="lang-matlab">pa=polyval(p,5.4) 计算多项式在x=5.4时的值
pa=polyval(p,[5.4,5.5,5.6]) 计算多项式在多个点的值
ployvalm按照矩阵运算规则计算多项式的值
</code></pre>
<h3 id="-0-pi-2-sinx-x-">求0到pi/2对sinx关于x的积分</h3>
<ol>
<li>数值积分法<pre><code class="lang-matlab">x=0:m:pi/2;将(0,pi/2)10等分
y=sin(x);求y值
z=trapz(y)*m;按梯形公式计算y的积分
</code></pre>
</li>
<li>辛普森公式法<pre><code class="lang-matlab">假设存在m-file:fun.m
quad(&#39;fun&#39;,a,b);计算fun在区间(a,b)上的积分,自动选步长
z=quad(&#39;sin&#39;,0,pi/2);
</code></pre>
</li>
<li>蒙特卡罗均值估计法<pre><code class="lang-matlab">r=100000;
x=rand(1,r);
y=sin(x.*pi/2);
z=sum(y)*pi/2/r;
</code></pre>
</li>
</ol>
<h3 id="-">求极小值</h3>
<pre><code class="lang-matlab">y=&#39;sin(x)&#39;
z=fminsearch(y,-1,6) 利用单纯形法求最小值
一般形式:x=fminsearch(fun,x0,options,p1,p2,...) x0是起始搜索点
</code></pre>
<h3 id="-">求零点</h3>
<pre><code class="lang-matlab">设有m-file:humps.m
xzero=fzero(&#39;humps&#39;,1)
yzero=humps(xzero)
</code></pre>
<h3 id="-">关系运算</h3>
<pre><code class="lang-matlab">&amp; 与 | 或 ~ 非
all(x) x所有元素与操作
any(x) x所有元素或操作
还有logical xor find逻辑函数
</code></pre>
<h3 id="-">选择结构</h3>
<pre><code class="lang-matlab">if A1 % expression 1
B1 % command 1
else if A2 % expression 2
B2 % command2
else
B3 % command 3
end
switch a % 读入一个语句
case A1 % 情况1
B1 % 命令1
case A2 % 情况2
B2 % 命令2
case ...
...
otherwise % 其余情况
Bn % 最后一个命令
</code></pre>
<h3 id="-">循环结构</h3>
<pre><code class="lang-matlab">for i=1:5
命令
end
while 表达式
命令
end
</code></pre>
<h3 id="m-">m文件</h3>
<ol>
<li><p>命令文件<br>直接写命令到文件</p>
<pre><code class="lang-matlab">n=4;文件中命令需要n变量,这里给它初值
dj,a;调用dj.m文件,返回值保存到a
</code></pre>
</li>
<li><p>函数文件</p>
<pre><code class="lang-matlab">function [因变量] = 函数名(自变量)
</code></pre>
</li>
</ol>
<h3 id="-">绘图</h3>
<pre><code class="lang-matlab">plot(y)
y为向量时,横坐标为相应元素序列号;
y为实矩阵,每列依次按列向量方式绘制;
y为复矩阵,每列依次按实部为横坐标,虚部为纵坐标绘制.
plot(x,y)
x,y为同维向量时,x为横坐标,y为纵坐标绘制;
x为向量,y为矩阵,矩阵列数和x维数相等时,以x为横坐标,以y中每行元素为纵坐标绘制;
x,y一个为向量,一个为矩阵,可以颠倒.
hold on
在已经绘制好的图形上加上新的图形.
hode off
之后的图形绘制会直接擦除前面的图形.
plot(rand(4),&#39;k+&#39;)
线性和颜色
线: - 实线 : 点线 -. 虚点线 --折线
点: . 圆点 + 加点  * 星号   x  x型 o 空心小圆
色: y 黄   r 红    g 绿     b  蓝  w 白 k 黑 m 紫 c 青
</code></pre>
<h3 id="-">绘图深入</h3>
<ol>
<li>加入网格和标记<pre><code class="lang-matlab">grid 加入网格
xlabel(&#39;x轴&#39;) 加入坐标轴标记
ylabel(&#39;y轴&#39;)
title(&#39;图形&#39;) 加入标题
gtext(&#39;sin line&#39;) 拖动鼠标加入标注
</code></pre>
</li>
<li>绘制多幅图形<pre><code class="lang-matlab">subplot(m,n,p) 指定后面的plot函数绘制第p部分,其中窗口被划分成m*n格
</code></pre>
</li>
<li>其他二维图形命题<pre><code class="lang-matlab">fplot(&#39;sin&#39;,[-5,5]) 绘制sin函数图形,限制x范围-5到5
semilogx(x,y) x轴为常用对数坐标
semilogy(x,y) y轴为常用对数坐标
loglog(x,y) x轴,y轴均为常用对数坐标
pause 暂停,直到敲击任意键,用于查看输出绘图
</code></pre>
</li>
<li>三维图形<pre><code class="lang-matlab">p=0:pi/10:20*pi;
x=cos(p); y=sin(p); z=p;
plot3(x,y,z) 当x,y,z为向量时, 以三个向量相应元素为x坐标,y坐标和z坐标绘制数据点.
</code></pre>
</li>
</ol>
<h3 id="-">常微分方程求解</h3>
<pre><code class="lang-matlab">[t,x]=ode23(&#39;f&#39;,t0,tf,x0,TOL)
[t,x]=ode45(&#39;f&#39;,t0,tf,x0,TOL)
f是要求解的常微分方程,
t0,tf分别是自变量的初始值和最终值,
x0是函数的初始值,
TOL是误差范围,缺省值为0.000001.
</code></pre>
<h3 id="-">求零点</h3>
<pre><code class="lang-matlab">fzero(&#39;fun&#39;, 0.3) 找x取值在0.3周围的函数fun的零点
roots([1 -3 2]) 求解x^2 -3x +2的根
</code></pre>
<h3 id="-">求极值</h3>
<pre><code class="lang-matlab">fmin(&#39;fun&#39;, -1, 2)
</code></pre>


</div>
<script src="../js/jquery-1.12.3.min.js" charset="utf-8"></script>
<link rel="stylesheet" href="../css/highlight.min.css">
<script src="../js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
jQuery(function ($) {
});
</script></body></html>

