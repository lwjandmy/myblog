

<html><head><meta charset="UTF-8"><title>function if while for
</title><meta name="viewport" content="width=device-width, initial-scala=1.0"></head><body><div id="markdown">






<h1 id="function-if-while-for">function if while for</h1>
<h2 id="-">脚本的输入和输出</h2>
<p>命令的输入途径: 运行参数 输入流</p>
<p>命令的输出途径: 结果码 输出流</p>
<p>管道的作用: 把前一个命令的输出流, 接到下一个命令的输入流</p>
<p>xargs的作用: 把前一个命令的输出流, 接到下一个命令的运行参数</p>
<p>$()的作用: 把里面的命令的输出流, 作为外面脚本的执行语句</p>
<h2 id="function">function</h2>
<p>函数定义和调用</p>
<pre><code class="lang-sh">function fun() {
    echo $1
    return 0
}
echo $(fun hello)
</code></pre>
<h2 id="if">if</h2>
<p>操作符=有2种含义, 在左右无空格时, 表示赋值; 在左右有空格时, 表示相等判断</p>
<p>[命令执行逻辑判断, 如果逻辑结果为true, 命令的结果码为0, if收到结果码为0, 就进入条件</p>
<pre><code class="lang-sh">if [ &quot;0&quot; != &quot;1&quot; ]; then
    echo yes
fi
</code></pre>
<p>简化if判断</p>
<pre><code class="lang-sh">[ &quot;0&quot; != &quot;1&quot; ] &amp;&amp; echo 1
[ &quot;0&quot; == &quot;1&quot; ] || echo 1
</code></pre>
<p>shell判断的都是字符串, 如果要把字符串转换成数值再进行判断, 使用两个括号</p>
<pre><code class="lang-sh">(( 1 &lt; 2 )) &amp;&amp; echo yes
</code></pre>
<h2 id="if-">if 多条件</h2>
<pre><code class="lang-sh">if [ &quot;0&quot; != &quot;1&quot; ] &amp;&amp; [ &quot;0&quot; != &quot;2&quot; ]; then
    echo yes
fi
</code></pre>
<h2 id="while">while</h2>
<p>只要read返回值时0, 那么while就一直循环</p>
<pre><code class="lang-sh">ls | while read str; do
    echo $str
done
</code></pre>
<h2 id="for">for</h2>
<p>for ((i = $(echo 0); i &lt; $(echo 10); ++i)); do
    echo $i
done</p>
<h2 id="for-in">for in</h2>
<p>IFS Internal Field Separator 内部字段分隔符 在for in语句种, 用于分隔文本, 迭代文本内容</p>
<pre><code class="lang-sh">IFS=&quot; &quot;
for item in $(echo a b c); do
    echo $item
done
</code></pre>
<h2 id="-">字符操作</h2>
<p>获取长度</p>
<pre><code class="lang-bash">str=abcde
echo ${#str}
# 输出: 5
</code></pre>
<p>字符拼接</p>
<pre><code class="lang-bash">str=abcde
echo ${str}--${str}
# 输出: abcde--abcde
# $str和${str}是相同的效果, ${str}可以用于字符串拼接
</code></pre>
<p>字符切分</p>
<pre><code class="lang-bash">str=abcde
echo ${str:1:3}
# 输出: bcd
</code></pre>
<h2 id="map-">Map操作</h2>
<h2 id="list-">List操作</h2>
<h2 id="-">思考</h2>
<p>为什么:</p>
<pre><code class="lang-bash">function fun() {
    echo $1
    return 0
}
echo $(fun hello)
</code></pre>
<p>输出: <code>hello</code></p>
<pre><code class="lang-bash">function fun() {
    echo $1
    return 0
}
$(fun hello)
</code></pre>
<p>输出: <code>-bash: hello: 未找到命令</code></p>


</div>
<script src="../js/jquery-1.12.3.min.js" charset="utf-8"></script>
<link rel="stylesheet" href="../css/highlight.min.css">
<script src="../js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
jQuery(function ($) {
});
</script></body></html>

