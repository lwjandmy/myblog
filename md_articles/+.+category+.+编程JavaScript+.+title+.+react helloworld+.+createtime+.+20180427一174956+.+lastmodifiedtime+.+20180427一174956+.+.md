# react helloworld

环境准备

webpack.config.js

```js
var path = require('path');

module.exports = {
    entry: './test6.jsx',
    output: {
        path: path.join(__dirname, '/dist'),
        filename: 'bundle.js'
    },
    resolve: {
        extensions: ['', '.js', '.jsx']
    },
    module: {
        loaders: [
            { test: /\.js|jsx$/, loaders: ['babel'] }
        ]
    }
}
```

dist/index.html

```html
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <div id="sense"></div>
        <script src="bundle.js"></script>
    </body>
</html>
```

package.json

```json
{
  "name": "react-tutorial",
  "scripts": {
    "example": "babel-node",
    "dev": "webpack -d --watch"
  },
  "dependencies": {
    "babel": "5.3.1",
    "babel-core": "^5.6.15",
    "babel-loader": "^5.2.2",
    "bluebird": "^2.9.34",
    "css-loader": "^0.15.1",
    "file-loader": "^0.8.4",
    "jquery": "^3.3.1",
    "node-libs-browser": "^0.5.2",
    "react": "0.14.2",
    "react-dom": "0.14.2",
    "react-redux": "4.0.0",
    "redux": "v3.0.2",
    "redux-logger": "^3.0.6",
    "redux-promise": "^0.5.3",
    "redux-saga": "^0.16.0",
    "redux-thunk": "^0.1.0",
    "style-loader": "^0.12.3",
    "url-loader": "^0.5.6",
    "webpack": "^1.10.0"
  },
  "devDependencies": {
    "react-hot-loader": "^1.2.7",
    "eslint": "^1.10.3",
    "babel-eslint": "^3.1.9",
    "eslint-plugin-react": "^2.3.0",
    "webpack-dev-server": "^1.8.2"
  }
}
```

执行命令, 动态监听js变化, 实时编译

```bash
yarn run dev
```

浏览器进dist/index.html, 本地编辑test6.jsx代码



------

react的基础用法, props, state, 事件监听例子

```jsx
import React, { Component } from 'react'
import { render } from 'react-dom'

const mountNode = document.getElementById('sense');

const ShowMessage = (props) => <div>{props.message}</div>

class LikeButton extends Component {
  constructor() {
    super();
    this.state = { liked: false };
  }

  handleClick(event) {
    this.setState({ liked: !this.state.liked });
  }

  render() {
    const text = this.state.liked ? 'like' : "haven't liked";
    return (
      <div onClick={this.handleClick.bind(this)}>
        <ShowMessage message={text} />
      </div>
    );
  }
}

render(<LikeButton />, mountNode);
```

------

react, redux, connect例子

```js
import React, { Component } from 'react';
import { render } from 'react-dom';
import { Provider, connect } from 'react-redux';
import { createStore, combineReducers } from 'redux';


// 定义action创建器, 和reducer配对

const increseActionCreator = (count) => {
  return {
    type: 'INCRESE_ACTION',
    payload: count
  }
}


// 创建针对content属性的reducer, 处理INCRESE_ACTION请求, 把content属性的值+1

const contentReducer = (state = 0, action) => {
  switch (action.type) {
    case 'INCRESE_ACTION':
      return state + action.payload;
    default:
      return state;
  }
}


// 把所有属性(如content)的reducer绑定在一起reducer

const reducer = combineReducers({
  content: contentReducer
})


// 由reducer, 创建store
// 消息action的产生dispatch, 是在App的事件监听里; 消息的处理, 是通过修改App的props通知App

const store = createStore(reducer);


// 定义App组件, 能监听鼠标点击, 并展示信息
// 鼠标点击, 触发this.props.increseAction, 这个是个方法, 由connect绑定, 最终调用到外部的方法
// 展示信息, 是展示this.props.content, 这个是个属性, 由connect绑定, 最终由外部属性变化通知内部属性
// 组件和外界的交互, 均通过props

class App extends Component {

  handleClick() {
    this.props.increseAction(1);
  }

  render() {
    return (
      <div onClick={this.handleClick.bind(this)}>累计: { this.props.content }</div>
    );
  }
}


// 把外界变化state.content, 通知到内部props.content
// 把内部的调用increseAction, 关联到外部dispatch(action)

App = connect(
  function mapStateToProps(state) {
    return {
      content: state.content
    }
  }, function mapDispatchProps(dispatch) {
    return {
      increseAction: (count) => { dispatch(increseActionCreator(count)) }
    }
  })(App);


// 渲染页面

render((
  <Provider store={store}>
    <App />
  </Provider>
), document.getElementById('sense'));

```


------

react, redux, connect, saga例子

```js

```


------

react, router 例子


```js

```

